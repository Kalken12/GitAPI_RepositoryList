<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style/index.css">

</head>

<body >
    <div id="navbar"></div>
    <div id="showImg">

    </div>
</body>

</html>
<script type="module">
   
    import header from "./components/header.js"
    console.log(header)
    let navbar = document.getElementById("navbar");
    navbar.innerHTML = header()

    let input_box = document.getElementById("search-input")

    input_box.addEventListener("keypress", () => {
       
        getData(event);
    });

    //https://api.github.com/users/octocat/repos
    // owner:
    // avatar_url: "https://avatars.githubusercontent.com/u/82832370?v=4"

    var showImg = document.getElementById("showImg")
    let img = document.createElement("img")
    let pro = document.getElementById("profile-img")
    const getData = async (event) => {
       
        //console.log(event)
        try {

            if (event.code === 'Enter') {
              
                let input = input_box.value;
                
                let res = await fetch(`https://api.github.com/users/${input}/repos`)
                let data = await res.json();
                console.log("data", data)
                pro.src = data[0].owner.avatar_url
              img.src = data[0].owner.avatar_url;
              showImg.append(img)
            }

            //owner.avatar_url
        }
        catch (err) {
            console.log(err)
        }


    };

</script>